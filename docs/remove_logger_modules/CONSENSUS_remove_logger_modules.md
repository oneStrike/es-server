# 日志模块移除需求共识文档

## 需求确认

### 任务描述
**彻底移除项目中所有日志相关模块，包括核心日志系统和请求审计日志系统。**

### 范围边界确认

#### 明确要移除的组件:
1. **核心日志系统**:
   - `src/common/module/logger/` 整个目录
   - `src/config/logger.config.ts` 配置文件  
   - `src/interceptors/logger.interceptor.ts` 拦截器

2. **请求审计日志系统**:
   - `src/modules/foundation/request-log/` 整个目录
   - `src/modules/admin/request-log/` 管理端控制器

3. **依赖库**:
   - `package.json` 中的 winston 相关依赖:
     - "nest-winston": "^1.10.2"
     - "winston": "^3.18.3" 
     - "winston-daily-rotate-file": "^5.0.0"
     - "@types/winston": "^2.4.4"

4. **所有使用日志的文件中的日志相关代码**:
   - 日志服务注入和使用的所有代码
   - 日志相关的导入语句

#### 明确不包含的范围:
- 基础 console.log 等控制台输出
- 第三方库的内部日志
- 数据库相关的配置和日志

### 技术实现方案

#### 移除策略:
1. **阶段化移除**: 先移除依赖关系少的组件，逐步清理
2. **替换策略**: 将日志调用替换为控制台输出或移除
3. **依赖清理**: 同步更新 package.json 和相关配置

#### 风险评估:
- **高风险**: 完全失去审计追踪能力
- **中风险**: 难以排查生产环境问题  
- **低风险**: 编译和运行稳定性（可以确保）

### 业务影响
- 管理员登录将不再有日志记录
- 文件操作将不再有审计追踪
- API 请求将不再有详细日志
- 性能监控数据将丢失

### 验收标准
1. ✅ 项目能够正常编译，无日志相关错误
2. ✅ 核心业务功能（用户管理、认证、文件操作）正常运行
3. ✅ 所有日志相关代码和配置文件完全清理
4. ✅ package.json 依赖完全更新
5. ✅ 基础调试功能通过 console.log 保持

### 最终确认
**是否确认执行这个大规模的日志模块移除操作？**

这个操作将会：
- 移除重要的监控和审计功能
- 简化代码但也降低了可观测性
- 需要确保有其他监控手段替代

请确认是否继续执行，或者是否需要调整移除范围（比如保留部分日志功能）。

## 状态
- **文档版本**: v1.0
- **创建时间**: 2024-12-18  
- **状态**: ✅ 用户已确认执行完整的日志模块移除操作

### 用户确认内容
- ✅ 确认移除核心日志系统 (LoggerModule, LoggerFactoryService, CustomLoggerService)
- ✅ 确认移除请求审计日志系统 (RequestLogModule)  
- ✅ 确认移除日志拦截器 (LoggerInterceptor)
- ✅ 确认移除winston相关依赖包
- ✅ 确认替换为基础console调试方式
- ✅ 了解业务监控能力将相应降低