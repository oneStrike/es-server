 # TASK_user-growth-optimization

 ## 任务拆分

 ### T1 反作弊查询与配置优化

 - 输入契约：现有反作弊配置与事件数据
 - 输出契约：减少查询次数，支持缓存与刷新
 - 实现约束：不改变反作弊结果语义
 - 依赖关系：无

 ### T2 审计幂等与归档优化

 - 输入契约：审计表与归档表
 - 输出契约：索引覆盖与归档性能提升
 - 实现约束：历史数据语义保持一致
 - 依赖关系：无

 ### T3 规则匹配与发放性能优化

 - 输入契约：规则表与记录表
 - 输出契约：批量查询与内存过滤替代逐条查询
 - 实现约束：事务一致性不变
 - 依赖关系：无

 ### T4 等级计算与入口统一

 - 输入契约：等级规则与用户经验
 - 输出契约：统一等级重算入口与可选缓存
 - 实现约束：等级逻辑不变
 - 依赖关系：T3 完成后评估复用

 ### T5 概览与审计查询性能优化

 - 输入契约：概览与审计查询接口
 - 输出契约：查询索引与聚合优化
 - 实现约束：对外接口不变
 - 依赖关系：T2 完成后评估索引调整

 ## 任务依赖图

 ```mermaid
 graph TD
   T1 --> T3
   T2 --> T5
   T3 --> T4
 ```
