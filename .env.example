################################################################################
# 必需配置 (Required Configuration)
# 缺失这些配置将导致服务无法启动
################################################################################

# 环境模式 (development | production)
NODE_ENV=production

# 数据库连接配置 (PostgreSQL)
# 容器内互联时使用服务名(postgres)，本地开发使用 localhost
DB_HOST=postgres
DB_PORT=5432
DB_USER=postgres
DB_PASSWORD=your_secure_password
DB_NAME=es_db

# Prisma 连接串 (必须与上述数据库配置保持一致)
# 格式: postgresql://${DB_USER}:${DB_PASSWORD}@${DB_HOST}:${DB_PORT}/${DB_NAME}
DATABASE_URL="postgresql://postgres:your_secure_password@postgres:5432/es_db"

# Redis 连接配置
# 容器内互联时使用服务名(redis)，本地开发使用 localhost
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=your_redis_password

################################################################################
# 端口配置 (Port Configuration)
# 用于 docker-compose.yml 的端口映射
################################################################################

# Admin API 宿主机映射端口
ADMIN_API_PORT=8080

# App API 宿主机映射端口
APP_API_PORT=8081

# 前端 Admin 宿主机映射端口
ADMIN_PORT=8082

################################################################################
# Admin 服务特定配置 (Admin Configuration)
################################################################################

# JWT 配置
ADMIN_JWT_EXPIRATION_IN=4h
ADMIN_JWT_REFRESH_EXPIRATION_IN=7d
ADMIN_JWT_ISSUER=es-admin

# 文件上传配置
ADMIN_UPLOAD_DIR=./uploads/admin
ADMIN_UPLOAD_MAX_FILE_SIZE=100MB

# Redis 命名空间
ADMIN_REDIS_NAMESPACE=ES_ADMIN

# 应用版本与路径
ADMIN_APP_VERSION=1.0.0
ADMIN_APP_FILE_URL_PREFIX=/files

################################################################################
# App 服务特定配置 (App Configuration)
################################################################################

# JWT 配置
APP_JWT_EXPIRATION_IN=7d
APP_JWT_REFRESH_EXPIRATION_IN=30d
APP_JWT_ISSUER=es-app

# 文件上传配置
APP_UPLOAD_DIR=./uploads/app
APP_UPLOAD_MAX_FILE_SIZE=100MB

# Redis 命名空间
APP_REDIS_NAMESPACE=ES_APP

# 应用版本与路径
APP_APP_VERSION=1.0.0
APP_APP_FILE_URL_PREFIX=/files

################################################################################
# 推荐配置 (Recommended Configuration)
################################################################################

# 时区设置 (Docker 容器推荐设置)
TZ=Asia/Shanghai

# 日志配置
LOG_LEVEL=info
LOG_PATH=./logs
LOG_MAX_SIZE=20m
LOG_RETAIN_DAYS=7d
LOG_COMPRESS=true
LOG_CONSOLE_LEVEL=info

################################################################################
# 功能特性配置 (Feature Flags)
################################################################################

# 阿里云短信配置 (仅当使用短信功能时必需)
# ALIYUN_SMS_ENDPOINT=dypnsapi.aliyuncs.com
# ALIYUN_SMS_SIGN_NAME=您的签名
# ALIBABA_CLOUD_ACCESS_KEY_ID=your_access_key_id
# ALIBABA_CLOUD_ACCESS_KEY_SECRET=your_access_key_secret

# Apifox 文档部署参数 (仅 CI/CD 使用)
# APIFOX_API_KEY=your_key
