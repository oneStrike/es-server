################################################################################
# 必需配置 (Required Configuration)
# 缺失这些配置将导致服务无法启动
################################################################################

# 环境模式 (development | production)
NODE_ENV=production

# 数据库连接配置 (PostgreSQL)
# 容器内互联时使用服务名(postgres)，本地开发使用 localhost
DB_HOST=postgres
DB_PORT=5432
DB_USER=postgres
DB_PASSWORD=your_secure_password
DB_NAME=es_db

# Prisma 连接串 (必须与上述数据库配置保持一致)
# 格式: postgresql://${DB_USER}:${DB_PASSWORD}@${DB_HOST}:${DB_PORT}/${DB_NAME}
DATABASE_URL="postgresql://postgres:your_secure_password@postgres:5432/es_db"

# Redis 连接配置
# 容器内互联时使用服务名(redis)，本地开发使用 localhost
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=your_redis_password

################################################################################
# 端口配置 (Port Configuration)
# 用于 docker-compose.yml 的端口映射
################################################################################

# Admin API 宿主机映射端口
ADMIN_API_PORT=8080

# App API 宿主机映射端口
APP_API_PORT=8081

# 前端 Admin 宿主机映射端口
ADMIN_PORT=8082

################################################################################
# 推荐配置 (Recommended Configuration)
# 通常建议设置，但代码中有默认回退值
################################################################################

# 应用名称
APP_NAME=es-server

# 时区设置 (Docker 容器推荐设置)
TZ=Asia/Shanghai

# 日志配置
LOG_LEVEL=info
LOG_PATH=./logs
LOG_MAX_SIZE=20m
LOG_RETAIN_DAYS=7d
LOG_COMPRESS=true
LOG_CONSOLE_LEVEL=info

################################################################################
# 可选配置 (Optional Configuration)
# 仅需自定义时修改
################################################################################

# 认证配置 (JWT)
# JWT_EXPIRATION_IN=4h
# JWT_REFRESH_EXPIRATION_IN=7d
# JWT_JWT_ISSUER=es
# JWT_JWT_AUD=es
# JWT_STRATEGY_KEY=jwt

# 文件上传配置
# UPLOAD_DIR=./uploads
# UPLOAD_MAX_FILE_SIZE=100MB

# 数据库查询调优
# DB_PAGINATION_PAGE_SIZE=15
# DB_MAX_QUERY_LIST_LIMIT=500

# PM2 进程管理 (仅生产环境/Docker)
# PM2_INSTANCES=1
# PM2_EXEC_MODE=fork
# PM2_MAX_MEMORY=512M

# RSA 密钥配置 (通常无需手动设置，系统会自动生成)
# RSA_PUBLIC_KEY_PATH=./secrets/public.key
# RSA_PRIVATE_KEY_PATH=./secrets/private.key

################################################################################
# 功能特性配置 (Feature Flags)
################################################################################

# 阿里云短信配置 (仅当使用短信功能时必需)
# ALIYUN_SMS_ENDPOINT=dypnsapi.aliyuncs.com
# ALIYUN_SMS_SIGN_NAME=您的签名
# ALIBABA_CLOUD_ACCESS_KEY_ID=your_access_key_id
# ALIBABA_CLOUD_ACCESS_KEY_SECRET=your_access_key_secret

# Apifox 文档部署参数 (仅 CI/CD 使用)
# APIFOX_API_KEY=your_key
# APIFOX_ADMIN_PROJECT_ID=your_id
# APIFOX_APP_PROJECT_ID=your_id
