/// 管理端用户
model AdminUser {
  /// 主键id
  id Int @id @default(autoincrement())

  /// 账号
  username  String  @unique @db.VarChar(20)
  /// 密码
  password  String  @db.VarChar(500)
  /// 手机号码
  mobile    String? @db.VarChar(11)
  /// 头像
  avatar    String? @db.VarChar(200)
  /// 账号角色
  role      Int     @default(0) @db.SmallInt
  /// 是否启用账号
  isEnabled Boolean @default(true) @map("is_enabled")

  /// 最后登录时间
  lastLoginAt DateTime? @map("last_login_at") @db.Timestamptz(6)
  /// 最后登录IP
  lastLoginIp String?   @map("last_login_ip") @db.VarChar(45)

  /// 创建时间
  createdAt DateTime @default(now()) @map("created_at") @db.Timestamptz(6)
  /// 更新时间
  updatedAt DateTime @updatedAt @map("updated_at") @db.Timestamptz(6)

  /// 关联令牌
  tokens AdminUserToken[]
  /// 创建的任务关联
  createdTasks Task[] @relation("TaskCreatedBy")
  /// 更新的任务关联
  updatedTasks Task[] @relation("TaskUpdatedBy")

  /// 启用状态索引
  @@index([isEnabled])
  /// 角色索引
  @@index([role])
  /// 创建时间索引
  @@index([createdAt])
  /// 最近登录时间索引
  @@index([lastLoginAt])
  @@map("admin_user")
}
