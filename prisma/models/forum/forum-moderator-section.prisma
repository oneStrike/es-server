/// 论坛版主板块关联表 - 管理板块版主与板块的多对多关系，一个板块版主可以管理多个板块
model ForumModeratorSection {
  /// 主键ID
  id Int @id @default(autoincrement())

  /// 关联的版主ID
  moderatorId Int @map("moderator_id")
  /// 关联的板块ID
  sectionId   Int @map("section_id")

  /// 自定义权限数组（与版主基础权限做合并）
  permissions Int[] @default([])

  /// 创建时间
  createdAt DateTime @default(now()) @map("created_at") @db.Timestamptz(6)
  /// 更新时间
  updatedAt DateTime @updatedAt @map("updated_at") @db.Timestamptz(6)

  /// 关联版主
  moderator ForumModerator @relation(fields: [moderatorId], references: [id], onDelete: Cascade)
  /// 关联板块
  section   ForumSection   @relation(fields: [sectionId], references: [id], onDelete: Cascade)

  /// 版主与板块唯一约束
  @@unique([moderatorId, sectionId])
  /// 版主索引
  @@index([moderatorId])
  /// 板块索引
  @@index([sectionId])
  /// 创建时间索引
  @@index([createdAt])
  @@map("forum_moderator_section")
}
