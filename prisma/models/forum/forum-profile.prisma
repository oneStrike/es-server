model ForumProfile {
  /// 主键ID
  id                Int       @id @default(autoincrement())
  /// 关联的用户ID
  userId            Int       @map("user_id") @db.Integer
  /// 关联的用户
  user              ClientUser @relation(fields: [userId], references: [id], onDelete: Cascade)
  /// 论坛积分
  points            Int       @default(0) @db.Integer
  /// 等级ID
  levelId           Int?      @map("level_id") @db.Integer
  /// 等级
  level             ForumLevelRule? @relation(fields: [levelId], references: [id], onDelete: SetNull)
  /// 发表主题数
  topicCount        Int       @default(0) @map("topic_count") @db.Integer
  /// 发表回复数
  replyCount        Int       @default(0) @map("reply_count") @db.Integer
  /// 获得点赞数
  likeCount         Int       @default(0) @map("like_count") @db.Integer
  /// 获得收藏数
  favoriteCount     Int       @default(0) @map("favorite_count") @db.Integer
  /// 签名
  signature         String?   @db.VarChar(200)
  /// 个人简介
  bio               String?   @db.VarChar(500)
  /// 最后发帖时间
  lastPostAt        DateTime? @map("last_post_at") @db.Timestamptz
  /// 最后访问时间
  lastVisitAt       DateTime? @map("last_visit_at") @db.Timestamptz
  /// 是否被封禁
  isBanned          Boolean   @default(false) @map("is_banned")
  /// 封禁原因
  banReason         String?   @map("ban_reason") @db.VarChar(500)
  /// 封禁到期时间
  banUntil          DateTime? @map("ban_until") @db.Timestamptz
  /// 创建时间
  createdAt         DateTime  @default(now()) @map("created_at") @db.Timestamptz
  /// 更新时间
  updatedAt         DateTime  @updatedAt @map("updated_at") @db.Timestamptz
  /// 软删除时间
  deletedAt         DateTime? @map("deleted_at") @db.Timestamptz

  /// 关联的主题
  topics            ForumTopic[]
  /// 关联的回复
  replies           ForumReply[]
  /// 关联的版主信息
  moderator         ForumModerator?
  /// 关联的点赞记录
  topicLikes        ForumTopicLike[]
  replyLikes        ForumReplyLike[]
  /// 关联的收藏记录
  topicFavorites    ForumTopicFavorite[]
  /// 关联的通知
  notifications     ForumNotification[]
  /// 关联的积分记录
  pointRecords      ForumPointRecord[]
  /// 关联的徽章
  badges            ForumBadge[] @relation("ProfileBadges")
  /// 关联的审核日志
  auditLogs         ForumAuditLog[]

  /// 索引优化
  @@unique([userId])
  @@index([points])
  @@index([levelId])
  @@index([topicCount])
  @@index([replyCount])
  @@index([likeCount])
  @@index([favoriteCount])
  @@index([lastPostAt])
  @@index([lastVisitAt])
  @@index([isBanned])
  @@index([createdAt])
  @@index([deletedAt])
  @@map("forum_profile")
}
