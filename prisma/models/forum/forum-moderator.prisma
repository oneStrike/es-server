/// 论坛版主表 - 管理论坛版主信息，包括角色类型、权限设置、启用状态等
model ForumModerator {
  /// 主键ID
  id Int @id @default(autoincrement())

  /// 关联的用户ID
  userId  Int  @unique @map("user_id")
  /// 关联的分组ID（分组版主时必填）
  groupId Int? @map("group_id")

  /// 版主角色类型（1=超级版主，2=分组版主，3=板块版主）
  roleType    Int     @default(3) @map("role_type")
  /// 权限数组（1=置顶, 2=加精, 3=锁定, 4=删除, 5=审核, 6=移动）
  permissions Int[]   @default([]) @map("permissions")
  /// 是否启用
  isEnabled   Boolean @default(true) @map("is_enabled")
  /// 备注
  remark      String? @db.VarChar(500)

  /// 创建时间
  createdAt DateTime  @default(now()) @map("created_at") @db.Timestamptz(6)
  /// 更新时间
  updatedAt DateTime  @updatedAt @map("updated_at") @db.Timestamptz(6)
  /// 软删除时间
  deletedAt DateTime? @map("deleted_at") @db.Timestamptz(6)

  /// 关联用户
  user       AppUser                   @relation(fields: [userId], references: [id], onDelete: Cascade)
  /// 关联分组
  group      ForumSectionGroup?        @relation(fields: [groupId], references: [id], onDelete: Cascade)
  /// 版主操作日志
  actionLogs ForumModeratorActionLog[]
  /// 管理的板块
  sections   ForumModeratorSection[]

  /// 分组索引
  @@index([groupId])
  /// 角色类型索引
  @@index([roleType])
  /// 启用状态索引
  @@index([isEnabled])
  /// 创建时间索引
  @@index([createdAt])
  /// 删除时间索引
  @@index([deletedAt])
  @@map("forum_moderator")
}
