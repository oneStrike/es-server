/// 作者信息模型
model WorkAuthor {
  /// 主键ID
  id Int @id @default(autoincrement())

  /// 作者姓名
  name        String  @unique @db.VarChar(100)
  /// 作者头像URL
  avatar      String? @db.VarChar(500)
  /// 作者描述
  description String? @db.VarChar(1000)
  /// 国籍
  nationality String? @db.VarChar(50)
  /// 性别（0: 未知, 1: 男性, 2: 女性, 3: 其他）
  gender      Int     @default(0) @db.SmallInt
  /// 作者类型（1: 漫画家, 2: 轻小说作者, 3: 插画师, 4: coser）
  type        Int[]

  /// 启用状态（true: 启用, false: 禁用）
  isEnabled     Boolean @default(true) @map("is_enabled")
  /// 是否为推荐作者（用于前台推荐展示）
  isRecommended Boolean @default(false) @map("is_recommended")

  /// 作品数量（冗余字段，用于提升查询性能）
  worksCount     Int @default(0) @map("works_count")
  /// 粉丝数量（冗余字段，用于前台展示）
  followersCount Int @default(0) @map("followers_count")

  /// 管理员备注
  remark String? @db.VarChar(1000)

  /// 创建时间
  createdAt DateTime  @default(now()) @map("created_at") @db.Timestamptz(6)
  /// 更新时间
  updatedAt DateTime  @updatedAt @map("updated_at") @db.Timestamptz(6)
  /// 软删除时间（用于数据恢复或归档）
  deletedAt DateTime? @map("deleted_at") @db.Timestamptz(6)

  /// 关联的漫画作者记录
  comicAuthors WorkComicAuthor[]

  /// 作者类型索引
  @@index([type])
  /// 启用状态索引
  @@index([isEnabled])
  /// 启用与推荐索引
  @@index([isEnabled, isRecommended])
  /// 启用与删除时间索引
  @@index([isEnabled, deletedAt])
  /// 国籍索引
  @@index([nationality])
  /// 性别索引
  @@index([gender])
  /// 推荐与作品数索引
  @@index([isRecommended, worksCount(sort: Desc)])
  /// 创建时间索引
  @@index([createdAt])
  @@map("work_author")
}
