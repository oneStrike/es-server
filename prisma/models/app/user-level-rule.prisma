/// 用户等级规则表 - 定义用户等级规则，包括等级名称、所需经验、等级权益等
model UserLevelRule {
  /// 主键ID
  id Int @id @default(autoincrement())

  /// 等级名称
  name String @unique @db.VarChar(20)

  /// 所需经验值
  requiredExperience Int @map("required_experience")
  /// 所需登录天数
  loginDays          Int @default(0) @map("login_days") @db.SmallInt

  /// 等级描述
  description String? @db.VarChar(200)
  /// 等级图标URL
  icon        String? @db.VarChar(255)
  /// 等级徽章URL
  badge       String? @map("badge") @db.VarChar(255)
  /// 等级专属颜色（十六进制）
  color       String? @map("color") @db.VarChar(20)

  /// 排序值（数值越小越靠前）
  sortOrder Int     @default(0) @db.SmallInt
  /// 是否启用
  isEnabled Boolean @default(true) @map("is_enabled")
  /// 业务域标识（可选）
  business  String? @db.VarChar(20)

  /// 每日发帖数量上限，0表示无限制
  dailyTopicLimit        Int @default(0) @map("daily_topic_limit") @db.SmallInt
  /// 每日回复和评论数量上限，0表示无限制
  dailyReplyCommentLimit Int @default(0) @map("daily_reply_comment_limit") @db.SmallInt
  /// 发帖间隔秒数（防刷屏），0表示无限制
  postInterval           Int @default(0) @map("post_interval") @db.SmallInt
  /// 每日点赞次数上限，0表示无限制
  dailyLikeLimit         Int @default(0) @map("daily_like_limit") @db.SmallInt
  /// 每日收藏次数上限，0表示无限制
  dailyFavoriteLimit     Int @default(0) @map("daily_favorite_limit") @db.SmallInt

  /// 黑名单上限
  blacklistLimit      Int     @default(10) @map("blacklist_limit") @db.SmallInt
  /// 作品收藏上限
  workCollectionLimit Int     @default(100) @map("work_collection_limit") @db.SmallInt
  /// 积分购买折扣（0-1之间的小数，0表示不打折）
  discount            Decimal @default(0.00) @db.Decimal(3, 2)

  /// 创建时间
  createdAt DateTime @default(now()) @map("created_at") @db.Timestamptz(6)
  /// 更新时间
  updatedAt DateTime @updatedAt @map("updated_at") @db.Timestamptz(6)

  /// 等级配置关联 - 每个等级规则对应多个用户
  users                   AppUser[]
  /// 版块关联 - 每个等级规则对应多个版块
  sections                ForumSection[]
  /// 关联章节阅读权限
  chaptersAsReadLevel     WorkChapter[]  @relation("ChapterReadLevel")
  worksAsViewLevel        Work[]         @relation("WorkViewLevel")

  /// 启用与排序索引
  @@index([isEnabled, sortOrder])
  @@map("user_level_rule")
}
